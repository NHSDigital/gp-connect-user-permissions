UpdatePermission:
  description: |
    Object containing the `type` and `id` of the permission to update along
    with the `currentAccessLevel` to update to.
  required: true
  content:
    application/json:
      schema:
        oneOf:
          - $ref: "components/schemas.yaml#/MedicalRecordPermissionUpdate"
          - $ref: "components/schemas.yaml#/ServicePermissionUpdate"
        discriminator:
          propertyName: type
          mapping:
            medical: "components/schemas.yaml#/MedicalRecordPermissionUpdate"
            service: "components/schemas.yaml#/ServicePermissionUpdate"
      examples:
        "Request documents access for medical record before effective date":
          value:
            type: medical
            id: before
            accessLevel: documents
        "Request effective date is moved back to date":
          value:
            type: medical
            id: present
            accessLevel: full
            date: "2022-11-01T00:00:00+00:00"
        "Request action access to appointments service":
          value:
            type: service
            id: appointments
            accessLevel: action
