type: object
required:
  - medicalRecord
  - services
  - requests
properties:
  medicalRecord:
    $ref: "MedicalRecordPermission.yaml"
  services:
    type: array
    description: |
      List of services available to the patient including whether the
      service is accessible or not.
    items:
      $ref: "ServicePermission.yaml"
  requests:
    type: array
    description: |
      List of outstanding requests that have been made to update either
      the medical record or services permissions.
    items:
      anyOf:
        - allOf:
          - $ref: "BaseRequest.yaml"
          - type: object
            required:
              - accessLevel
              - id
              - type
            properties:
              accessLevel:
                $ref: "MedicalRecordAccessLevelEnum.yaml"
              id:
                $ref: "MedicalRecordPermissionTypeIdEnum.yaml"
              type:
                type: string
                description: The type of request.
                enum:
                  - medical
        - $ref: "BaseRequest.yaml"
        - type: object
          required:
            - accessLevel
            - id
            - type
          properties:
            accessLevel:
              $ref: "ServiceAccessLevelEnum.yaml"
            id:
              $ref: "ServiceIdEnum.yaml"
            type:
              type: string
              description: The type of request.
              enum:
                - service
